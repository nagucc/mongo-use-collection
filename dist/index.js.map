{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nexport const useCollection = async (url, collectionName, success,\n  fail = () => console.log('userCollection: FAILED')) => { // eslint-disable-line no-console\n  let result = null;\n  try {\n    const db = await MongoClient.connect(url);\n    const col = db.collection(collectionName);\n    result = await success(col, db);\n    db.close();\n  } catch (e) {\n    fail(e);\n  } finally {\n    return result;\n  }\n};\n"],"names":["MongoClient"],"mappings":";;;;;;;;;;;;AAAA,AAEO,IAAM;wDAAgB,iBAAO,GAAP,EAAY,cAAZ,EAA4B,OAA5B;QAC3B,IAD2B,yDACpB;aAAM,QAAQ,GAAR,CAAY,wBAAZ,CAAN;KADoB;QAEvB,MAFuB,EAInB,EAJmB,EAKnB,GALmB;;;;;;kBAAA,GAEd,IAFc;;;mBAIRA,oBAAY,OAAZ,CAAoB,GAApB,CAJQ;;;cAAA;eAAA,GAKb,GAAG,UAAH,CAAc,cAAd,CALa;;mBAMV,QAAQ,GAAR,EAAa,EAAb,CANU;;;kBAAA;;eAOtB,KAAH;;;;;;;;;;;;6CAIO,MAXkB;;;;;;;;GAAhB;;;;;GAAN;;"}